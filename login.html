<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='./assets/images/logo(2).jpg' rel='shortcut icon' type='image/png'/>

    <link rel="stylesheet" href="./assets/css/login.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <script src="/javascript/bootstrap.min.js"></script>
    <script src="/javascript/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="./assets/css/base.css">
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/grid.css">

  
  <link rel="stylesheet" href="./assets/font/fontawesome-free-5.15.4-web/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Cookie&family=Courgette&family=Merriweather:ital,wght@0,300;0,400;1,300;1,400;1,700&family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&family=Praise&family=Roboto+Slab:wght@300;400;500;600&family=Roboto:ital,wght@1,100&family=Satisfy&display=swap" rel="stylesheet">   
   <link href="https://fonts.googleapis.com/css2?family=Cookie&family=Courgette&family=Merriweather:ital,wght@0,300;0,400;1,300;1,400;1,700&family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&family=Praise&family=Roboto:ital,wght@1,100&family=Satisfy&display=swap" rel="stylesheet">
   <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
   <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>


    <title>Tài khoản</title>
</head>
<body>
    <div class="wrapper ">
        <button class="scroll " ><i class="fas fa-arrow-up"></i></button>
        <header class="header">
            <div class="grid wide">
                <div class="row no-gutters">
                    <div class="col l-3">
                        <div class="header__logo">
                            <a href="./index.html" class="header__logo-link">
                                <img src="./assets/images/logo(2).jpg" alt="" class="header__logo-img">
                            </a>
                            <span class="header__logo-text">ShoesShop</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <nav class="navbar">
            <div class="grid wide">
                <div class="row no-gutters">
                    <div class="col-sm-10">
                        <ul class="nav__list">
                            <li class="nav__item"><a href="/index.html" class="nav__item-link">trang chủ</a></li>
                            <li class="nav__item"><a href="/dashboard.html" class="nav__item-link">dashboard</a></li>
                            <li class="nav__item"><a href="/san-pham.html" class="nav__item-link">sản phẩm</a></li>
                            <li class="nav__item"><a href="#" class="nav__item-link active">tài khoản</a></li>
                            <li class="nav__item"><a href="/contact.html" class="nav__item-link">liên hệ</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-2">
                        <div class="nav-icon">
                            <div class="nav__search">
                                <i class="fas fa-search nav__search-icon"></i>
                                <form action="/san-pham.html" class="nav__search-form">
                                    <input class="nav__search-input" type="text" placeholder="Gõ tìm kiếm..." required>
                                    <button type="submit" class="nav__search-submit">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <div class="theme-background">
            <div class="theme-title">Tài khoản</div>
        </div>

        <div class="main">
            <section class="frag">
                <div class="grid wide">
                    <div class="row">
                        <div class="col-sm-12">
                            <ul class="frag__container">
                                <li class="home">
                                    <a href="/index.html" class="frag__link"> Trang chủ</a>
                                    <span class="gach">/</span>
                                </li>
                                <li>
                                    <span> Tài khoản</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
            <div class="grid wide">
                <div class="row">
                    <div class="col-sm-6">
                        <form action="" method="POST" class="form" id="form-1">
                          <h3 class="heading">Đăng ký tài khoản</h3>
                          <p class="desc">Vui lòng đăng ký vào form bên dưới</p>
                      
                          <div class="spacer"></div>
                      
                          <div class="form-group">
                            <label for="fullname" class="form-label">Tên đầy đủ</label>
                            <input id="fullname" name="fullname" type="text" placeholder="Nhập tên của bạn" class="form-control">
                            <span class="form-message"></span>
                          </div>
                      
                          <div class="form-group">
                            <label for="email" class="form-label">Email</label>
                            <input id="email" name="email" type="text" placeholder="VD: email@domain.com" class="form-control">
                            <span class="form-message"></span>
                          </div>
                      
                          <div class="form-group">
                            <label for="password" class="form-label">Mật khẩu</label>
                            <input id="password" name="password" type="password" placeholder="Nhập mật khẩu" class="form-control">
                            <span class="form-message"></span>
                          </div>
                      
                          <div class="form-group">
                            <label for="password_confirmation" class="form-label">Nhập lại mật khẩu</label>
                            <input id="password_confirmation" name="password_confirmation" placeholder="Nhập lại mật khẩu" type="password" class="form-control">
                            <span class="form-message"></span>
                          </div>
                      
                          <button class="form-submit">Đăng ký</button>
                          <span class="form-transfer" onclick="transfer()">Đăng nhập</span>
                        </form>
                        <form action="" method="POST" class="form" id="form-2">
                                <h3 class="heading">Đăng nhập</h3>
                                <p class="desc">Vui lòng đăng nhập vào form bên dưới</p>
                        
                                <div class="spacer"></div>
                        
                                <div class="form-group">
                                <label for="email" class="form-label">Email</label>
                                <input id="email" name="email" type="text" placeholder="VD: email@domain.com" class="form-control">
                                <span class="form-message"></span>
                                </div>
                        
                                <div class="form-group">
                                <label for="password" class="form-label">Mật khẩu</label>
                                <input id="password" name="password" type="password" placeholder="Nhập mật khẩu" class="form-control">
                                <span class="form-message"></span> 
                                </div>
                        
                                <button class="form-submit">Đăng nhập</button>
                                <span class="form-transfer" onclick="transfer2()">Đăng ký</span>
                                <div class="form-recovery" onclick="transfer3()">
                                    Quên mật khẩu?
                                </div>
                            </form>
                              <form action="/login.html" method="POST" class="form form-recoveryPassword" id="form-3">
                                <h3 class="heading">Password Recovery</h3>
                                <p class="desc">
                                    Vui lòng đăng nhập vào form bên dưới
                                </p>
                                <div class="spacer"></div>
                                <div class="form-group">
                                    <label for="email" class="form-label">Email</label>
                                    <input
                                        id="email"
                                        name="email"
                                        type="text"
                                        placeholder="Email/Tên tài khoản"
                                        class="form-control emailRecovery"
                                    />
                                    <span class="form-message"></span>
                                </div>
                                <div class="form-group">
                                    <label for="password class="form-label">Mật khẩu mới</label>
                                    <input
                                        id="password"
                                        name="password"
                                        type="password"
                                        placeholder="Nhập mật khẩu mới"
                                        class="form-control passwordRecovery"
                                    />
                                    <span class="form-message"></span>
                                </div>
                                <div class="form-group">
                                    <label for="password class="form-label">Xác nhận mật khẩu</label>
                                    <input
                                        id="password1"
                                        name="password1"
                                        type="password"
                                        placeholder="Xác nhận lại mật khẩu"
                                        class="form-control passwordRecovery"
                                    />
                                    <span class="form-message"></span>
                                </div>
                                <button class="form-submit">Khôi Phục</button>
                                <span class="form-transfer" onclick="back()">Quay Lại</span>
                            </form>
                    </div>
                    <div class="col-sm-6">
                        <div class="login-banner">
                            <img src="./assets/images/firered.webp" alt="" class="login-img">
                            <div class="login-sale">
                                <span>-25%</span>
                            </div>
                            <span class="login-border1"></span>
                            <span class="login-border2"></span>
                        </div>
                    </div>
                </div>
                <div class="row">

                </div>
            </div>


            
        </div>
        <footer class="footer">
            <div class="mid-footer">
                <div class="grid wide">
                    <div class="col-sm-12">
                        <h1 class="mid-footer__name">Cửa hàng Giày Shoes Shop</h1>
                        <div class="mid-footer__address">
                            <span>Shoes Shop:</span>
                            <span>Khu 2 - Đại học Cần Thơ</span>
                        </div>
                        <div class="mid-footer__contact">
                            <span>Hotline: <a href="#">69966996</a></span>
                            <span>Email: <a href="#">shoesshop@gmail.com</a></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bottom-footer">
                <p>&copy Copyright by <a href="/index.html">ShoesShop</a></p>
            </div>
        </footer>

    </div>
        <script src="./javascript/scroll-top.js"></script>
      <script src="./javascript/validator.js"></script>
      <script>
        document.addEventListener('DOMContentLoaded', function () {
          // Mong muốn của chúng ta
          Validator({
            form: '#form-1',
            formGroupSelector: '.form-group',
            errorSelector: '.form-message',
            rules: [
              Validator.isRequired('#fullname', 'Vui lòng nhập tên đầy đủ của bạn'),
              Validator.isEmail('#email'),
              Validator.minLength('#password', 6),
              Validator.isRequired('#password_confirmation'),
              Validator.isConfirmed('#password_confirmation', function () {
                return document.querySelector('#form-1 #password').value;
              }, 'Mật khẩu nhập lại không chính xác')
            ],
            onSubmit: function (data) {
                console.log(data);
                for(let key in localStorage){
                  if(key.startsWith("user")){
                    let user = JSON.parse(localStorage.getItem(key))
                    if(user.email === data.email){
                        alert("Tài khoản tồn tài")
                        return
                    }
                  }
              }
              let cnt = 1;
              for(let key in localStorage){
                  if(key.startsWith("user"))
                    cnt = cnt + 1;
              }
              let user = "user" + cnt
              localStorage.setItem(user,JSON.stringify(data));
              alert("Đăng ký thành công")
            }
          });
  
  
          Validator({
            form: '#form-2',
            formGroupSelector: '.form-group',
            errorSelector: '.form-message',
            rules: [
              Validator.isEmail('#email'),
              Validator.minLength('#password', 6),
            ],
            onSubmit: function (data) {
              // Call API
              console.log(data);
              for(let key in localStorage){
                if(key.startsWith("user")){
                    let user = JSON.parse(localStorage.getItem(key))
                    const email = user.email
                    const password = user.password
                    if(email == data.email && password == data.password){
                        localStorage.setItem("account",key)
                        alert("Đăng nhập thành công")
                        window.location.href = "login-index.html"
                        return
                    }
                }
              }
              alert("Sai tài khoản hoặc mật khẩu");
            }
          });
        });

        Validator({
            form: '#form-3',
            formGroupSelector: '.form-group',
            errorSelector: '.form-message',
            rules: [
              Validator.isEmail('#email'),
              Validator.minLength('#password', 6),
              Validator.isRequired('#password1'),
              Validator.isConfirmed('#password1', function () {
                return document.querySelector('#form-3 #password').value;
              }, 'Mật khẩu nhập lại không chính xác')
            ],
            onSubmit: function (data) {
              // Call API
              console.log(data);
            }
          });

        const form1 = document.getElementById('form-1')
        const form2 = document.getElementById('form-2')
        const form3 = document.getElementById('form-3')
        function transfer() {
            form1.style.display = 'none'
            form2.style.display = 'block'
        }
        function transfer2() {
            form1.style.display = 'block'
            form2.style.display = 'none'
        }
        function transfer3() {
            form2.style.display = 'none'
            form3.style.display = 'block'
        }
        function back(){
            form3.style.display = 'none'
            form2.style.display = 'block'
        }
      </script>
        <script src="/javascript/recoveryPassword.js">
        </script>
</body>
</html>